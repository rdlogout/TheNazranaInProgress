(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{9170:function(e,t,s){"use strict";s.r(t);var r=s(5893),n=s(6156),a=s(9669),d=s.n(a),c=s(7294),i=(s(9169),s(1905)),o=s(6570),l=s(1664),m=s(8279),u=s(1163);function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){(0,n.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p=function(){var e=(0,c.useState)(),t=e[0],s=e[1],n=(0,c.useState)(!1),a=n[0],l=n[1],m=(0,c.useState)(),u=m[0],h=m[1];(0,c.useEffect)((function(){var e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.addEventListener("load",(function(){d().post(o.dU+"/api/checkout/GetOrderId",(0,o.R9)().map((function(e){return x(x({},e),{},{quantity:Number(e.quantity)})}))).then((function(e){var t=e.data,s={key:"rzp_test_n3VKPfZXia9j2o",amount:t.amount,currency:"INR",name:"The Nazrana",description:"Test Transaction",image:"https://example.com/your_logo",order_id:t.orderId,handler:function(e){return p(e)},prefill:{name:"Gaurav Kumar",email:"gaurav.kumar@example.com",contact:"9999999999"},notes:{address:"Razorpay Corporate Office"},theme:{color:"#666AF6"}},r=new Razorpay(s);h(r),r.on("payment.failed",(function(e){console.log(e)}))}))})),document.body.appendChild(e)}),[]);var p=function(e){var t=new FormData(document.getElementById("addressForm")),r=Object.fromEntries(t),n={payment:e,products:(0,o.R9)().map((function(e){return x(x({},e),{},{quantity:Number(e.quantity)})})),address:x(x({},r),{},{Zipcode:Number(r.Zipcode)})};d().post(o.dU+"/api/checkout",n).then((function(e){var t=e.data;t.id&&(0,o.R9)().map((function(e){return(0,o.Wn)(e.id)})),l(!1),s(t)}))};return(0,r.jsxs)("div",{className:"col-md-8 px-0",children:[(0,r.jsx)("div",{className:"top-title px-5 text-center site-logo",children:(0,r.jsx)("a",{href:"/",children:(0,r.jsx)("img",{className:"logo",src:"logo.png"})})}),(0,r.jsxs)("div",{className:"row justify-content-center bg-light mx-0",children:[t?(0,r.jsx)(i.T,{data:t}):a?(0,r.jsxs)("div",{className:"my-5 text-center",children:[(0,r.jsx)("div",{class:"spinner-border text-primary my-5",role:"status",children:(0,r.jsx)("span",{class:"sr-only",children:"Loading..."})}),(0,r.jsx)("h5",{children:"Please Wait ....."})]}):null,(0,r.jsxs)("form",{className:"col-md-8 py-md-4 py-3 ",onSubmit:function(e){e.preventDefault(),u.open(),l(!0)},id:"addressForm",hidden:void 0!==t|a,children:[(0,r.jsx)("p",{className:"font-lg fw-bold mb-3 text-blue",children:"SHIPPING & BILLING INFORMATION"}),(0,r.jsxs)("div",{className:"bg-white shadow-sm rounded mb-3 container",children:[(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"Name"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"Jenny Rosen",name:"FullName",type:"text",required:!0})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"Email"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"Jenny@gmail.com",type:"email",name:"Email",required:!0})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"Address"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"185 Berry Street",type:"text",name:"Street",required:!0})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"Mobile"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"9018987234",type:"text",name:"Mobile",required:!0})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"City"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"Luckhnow",type:"text",name:"City",required:!0})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"State"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"U.P",type:"text",name:"State",required:!0})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"Zipcode"})}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)("input",{placeholder:"21043",type:"number",name:"Zipcode"})})]}),(0,r.jsxs)("div",{className:"custom-address row border-bottom border-light",children:[(0,r.jsx)("div",{className:"col-md-3 text-end",children:(0,r.jsx)("span",{children:"Country"})}),(0,r.jsxs)("div",{className:"col-md-9 d-flex align-items-center",children:[(0,r.jsx)("i",{className:"fal fa-flag-usa text-primary me-3"}),(0,r.jsx)("span",{children:"India"})]})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-100 my-3 py-2 mb-5 btn bg-primary text-white font-sm fw-bold shadow-sm",children:"PAY NOW"})]})]})]})},j=function(e){var t=e.items;return(0,r.jsxs)("div",{className:"shadow-sm bg-white col-md-4 px-0",children:[(0,r.jsx)("div",{className:"top-title",children:(0,r.jsx)("h5",{className:"mx-5",children:"Order Summary"})}),(0,r.jsxs)("div",{className:"py-4 px-1",children:[null===t||void 0===t?void 0:t.map((function(e){return(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row font-sm mb-3 flex-nowrap",children:[(0,r.jsx)("div",{className:"col-2 px-0 text-center",children:(0,r.jsx)("img",{className:"list-img rounded",src:"https://advasset.blob.core.windows.net/thenazrana/".concat(null===e||void 0===e?void 0:e.images)})}),(0,r.jsxs)("div",{className:"col-10 px-0",children:[(0,r.jsx)("h6",{children:e.title}),(0,r.jsxs)("p",{children:[e.quantity," x rs ",e.quantity*e.price]})]})]})})})),(0,r.jsxs)("div",{className:"d-flex flex-column cart py-3 px-2 border-top border-bottom border-light",children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between font-md",children:[(0,r.jsx)("p",{children:"Subtotal"}),(0,r.jsxs)("p",{className:"mx-3",children:["\u20b9 ",null===t||void 0===t?void 0:t.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0)]})]}),(0,r.jsxs)("div",{className:"d-flex justify-content-between font-md",children:[(0,r.jsx)("p",{children:"Discount"}),(0,r.jsx)("p",{className:"mx-3",children:"\u20b9 0"})]}),(0,r.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,r.jsx)("h5",{children:"Total"}),(0,r.jsxs)("h5",{className:"mx-3",children:["\u20b9 ",null===t||void 0===t?void 0:t.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0)]})]}),(0,r.jsx)(l.default,{href:"/cart",children:(0,r.jsx)("button",{type:"submit",className:"btn shadow-sm font-sm bg-secondary text-white",children:"EDIT CART"})})]})]})]})};t.default=function(){var e=(0,c.useState)(),t=e[0],s=e[1],n=(0,u.useRouter)();return(0,c.useEffect)((function(){var e=(0,o.R9)();if(0===e.length)return(0,m.ZP)("Please Add Items To Cart"),void n.push("/cart");d().post(o.dU+"/api/home/CartProduct",(0,o.R9)().map((function(e){return e.id}))).then((function(t){var r=t.data;s(r.map((function(t){var s;return x(x({},t),{},{quantity:null===(s=e.find((function(e){return e.id===t.id})))||void 0===s?void 0:s.quantity})})))}))}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container my-md-5 my-3 shadow",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)(p,{}),(0,r.jsx)(j,{items:t})]})})})}},354:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return s(9170)}])}},function(e){e.O(0,[124,357,774,888,179],(function(){return t=354,e(e.s=t);var t}));var t=e.O();_N_E=t}]);